# PipeWire configuration to create virtual audio devices for Chrome
# This creates dedicated Chrome audio devices that are automatically routed to USB audio

context.modules = [
    {
        name = libpipewire-module-loopback
        args = {
            node.description = "Chrome Virtual Microphone"
            node.name = "chrome-mic-virtual"
            capture.props = {
                node.name = "chrome-mic-capture"
                media.class = "Audio/Source"
                audio.position = [ MONO ]
                node.target = "alsa_input.usb-CSCTEK_USB_Audio_and_HID_A34004801402-00.mono-fallback"
            }
            playback.props = {
                node.name = "chrome-mic-playback"
                media.class = "Audio/Source/Virtual"
                audio.position = [ MONO ]
                node.description = "Chrome Microphone"
            }
        }
    }
    {
        name = libpipewire-module-loopback
        args = {
            node.description = "Chrome Virtual Speaker"
            node.name = "chrome-speaker-virtual"
            capture.props = {
                node.name = "chrome-speaker-capture"
                media.class = "Audio/Sink/Virtual"
                audio.position = [ FL FR ]
                node.description = "Chrome Speaker"
            }
            playback.props = {
                node.name = "chrome-speaker-playback"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
                node.target = "alsa_output.usb-CSCTEK_USB_Audio_and_HID_A34004801402-00.analog-stereo"
            }
        }
    }
]